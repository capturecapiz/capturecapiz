<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SANDOK, ILOS: Documentation of Capisnon Native Foods</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts: Inter & Playfair Display -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">

    <style>
        /* Custom styles for the theme */
        body {
            font-family: 'Inter', sans-serif;
            color: #d1d5db; /* Default text color to light gray */
        }

        /* Background setup */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            height: 100%;
            width: 100%;
            z-index: -1;
            /* UPDATED: Changed background image to the user-provided path */
            background-image: linear-gradient(rgba(17, 24, 39, 0.85), rgba(17, 24, 39, 0.85)), url('html/assets/img/celeb/banana.jpg');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            filter: blur(2px) brightness(0.7); /* Subtle blur and darkening */
        }

        .font-serif {
            font-family: 'Playfair Display', serif;
        }
        
        /* Style for the play icon overlay */
        .video-tile:hover .play-icon-overlay {
            opacity: 1;
        }

        /* Prevent scrolling when modal is open */
        .no-scroll {
            overflow: hidden;
        }

        /* Glassmorphism effect for tiles */
        .glass-effect {
            background-color: rgba(17, 24, 39, 0.6); /* Semi-transparent dark bg */
            -webkit-backdrop-filter: blur(12px);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
    </style>
</head>
<body class="bg-gray-900">

    <!-- Header Section -->
    <header class="text-center py-12 md:py-16 px-4">
        <h1 class="font-serif text-4xl md:text-6xl font-bold text-gray-50" style="text-shadow: 2px 2px 8px rgba(0,0,0,0.5);">SANDOK, ILOS</h1>
        <p class="mt-4 text-lg md:text-xl text-gray-300 max-w-3xl mx-auto">An Interactive Documentation of Capisnon Native Foods</p>
    </header>

    <!-- Main Content: Video Grid -->
    <main class="container mx-auto px-4 sm:px-6 lg:px-8 pb-16">
        <div id="video-grid" class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 md:gap-6">
            <!-- Video tiles will be dynamically inserted here by JavaScript -->
        </div>
    </main>

    <!-- Modal for Video Playback -->
    <div id="video-modal" class="fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center p-4 z-50 hidden">
        <!-- Close button -->
        <button id="close-modal-btn" class="absolute top-4 right-4 text-white text-5xl hover:text-gray-300 transition-colors duration-300 z-50 leading-none">&times;</button>
        
        <!-- Video container -->
        <div class="w-full max-w-4xl bg-black rounded-lg shadow-2xl overflow-hidden">
            <div class="aspect-w-16 aspect-h-9">
                <iframe id="youtube-player" src="" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
            </div>
        </div>
    </div>

    <script>
        // --- DATA: List of Capisnon Foods and their YouTube Video IDs ---
        // Replace these with your actual video titles and YouTube video IDs.
        const foodVideos = [
            { title: 'Diwal (Angel Wing Clams)', videoId: 'U-KeG7s9Q3I' },
            { title: 'Tinolang Tatus (Coconut-based Snail Soup)', videoId: 'L-d8S9p3qGI' },
            { title: 'KBL (Kadyos, Baboy, Langka)', videoId: 'T850B3kC1g8' },
            { title: 'Linutik (Squash and Coconut Milk)', videoId: '802k7CqSkvI' },
            { title: 'Laswa (Vegetable Soup)', videoId: 'oNZeYcEihNM' },
            { title: 'Baye-Baye (Sweet Rice Cake)', videoId: '1LHTLgXb27g' },
            { title: 'Ibos (Steamed Rice Cake in Coconut Leaves)', videoId: '5k8eWnC4d_Q' },
            { title: 'Chicken Binakol', videoId: 'DqOQY_omYDA' },
            { title: 'Sinugba nga Isda (Grilled Fish)', videoId: 'n_kMGFQ_3rA' },
            { title: 'Kinilaw na Tanigue', videoId: 'Wz9hA2GDB3s' },
            { title: 'Pangat (Fish in Sour Broth)', videoId: 'yO-b7i_iN7w' },
            { title: 'Suman sa Lihiya', videoId: 't6lV2s13oao' },
            { title: 'Adobong Taklong (Sea Snails)', videoId: 'xU2qjhgKe34' },
            { title: 'Nilagpang na Manok', videoId: 'l1r403A6tqU' },
            { title: 'Puso ng Saging Salad', videoId: 'z-jD0a-j2vY' },
            { title: 'Kansi (Beef Shank Soup)', videoId: 'y6nZ_2p5i2M' },
            { title: 'Alupi (Cassava Suman)', videoId: 'e8c_Y_Y7c0o' }
        ];

        // --- DOM Elements ---
        const videoGrid = document.getElementById('video-grid');
        const modal = document.getElementById('video-modal');
        const closeModalBtn = document.getElementById('close-modal-btn');
        const youtubePlayer = document.getElementById('youtube-player');
        const body = document.body;

        // --- Functions ---

        /**
         * Creates and populates the video grid with tiles.
         */
        function populateGrid() {
            videoGrid.innerHTML = ''; // Clear any existing content
            foodVideos.forEach(video => {
                const thumbnailUrl = `https://img.youtube.com/vi/${video.videoId}/hqdefault.jpg`;
                
                const tile = document.createElement('div');
                tile.className = 'video-tile group cursor-pointer glass-effect rounded-lg overflow-hidden transform hover:-translate-y-1 transition-all duration-300';
                tile.setAttribute('data-video-id', video.videoId);

                tile.innerHTML = `
                    <div class="relative">
                        <img src="${thumbnailUrl}" alt="Thumbnail for ${video.title}" class="w-full h-32 md:h-48 object-cover group-hover:scale-105 transition-transform duration-300" onerror="this.onerror=null;this.src='https://placehold.co/600x400/1f2937/d1d5db?text=Video+Not+Found';">
                        <div class="play-icon-overlay absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300">
                            <svg class="w-12 h-12 md:w-16 md:h-16 text-white" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z" clip-rule="evenodd"></path></svg>
                        </div>
                    </div>
                    <div class="p-3">
                        <h3 class="font-semibold text-sm text-gray-100 truncate">${video.title}</h3>
                    </div>
                `;

                videoGrid.appendChild(tile);
            });
        }

        /**
         * Opens the modal and plays the selected video.
         * @param {string} videoId - The YouTube video ID to play.
         */
        function openModal(videoId) {
            const embedUrl = `https://www.youtube.com/embed/${videoId}?autoplay=1&rel=0&color=white&modestbranding=1`;
            youtubePlayer.setAttribute('src', embedUrl);
            modal.classList.remove('hidden');
            body.classList.add('no-scroll'); // Prevent background scrolling
        }

        /**
         * Closes the modal and stops the video.
         */
        function closeModal() {
            youtubePlayer.setAttribute('src', ''); // Important: stops the video
            modal.classList.add('hidden');
            body.classList.remove('no-scroll');
        }

        // --- Event Listeners ---
        videoGrid.addEventListener('click', (event) => {
            const tile = event.target.closest('.video-tile');
            if (tile) {
                const videoId = tile.dataset.videoId;
                openModal(videoId);
            }
        });

        closeModalBtn.addEventListener('click', closeModal);
        modal.addEventListener('click', (event) => {
            if (event.target === modal) {
                closeModal();
            }
        });
        document.addEventListener('keydown', (event) => {
            if (event.key === 'Escape' && !modal.classList.contains('hidden')) {
                closeModal();
            }
        });

        // --- Initial Load ---
        document.addEventListener('DOMContentLoaded', populateGrid);

    </script>
</body>
</html>
